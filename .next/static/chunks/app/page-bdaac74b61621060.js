(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{522:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(5155),r=s(2115);let l="https://api.sleeper.app/v1";class n{static async getUser(e){try{let t=await fetch("".concat(l,"/user/").concat(e));if(!t.ok)return null;return await t.json()}catch(e){return console.error("Error fetching user:",e),null}}static async getUserLeagues(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024";try{let s=await fetch("".concat(l,"/user/").concat(e,"/leagues/nfl/").concat(t));if(!s.ok)return[];return await s.json()}catch(e){return console.error("Error fetching user leagues:",e),[]}}static async getLeagueRosters(e){try{let t=await fetch("".concat(l,"/league/").concat(e,"/rosters"));if(!t.ok)return[];return await t.json()}catch(e){return console.error("Error fetching league rosters:",e),[]}}static async getLeagueUsers(e){try{let t=await fetch("".concat(l,"/league/").concat(e,"/users"));if(!t.ok)return[];return await t.json()}catch(e){return console.error("Error fetching league users:",e),[]}}static async getMatchups(e,t){try{let s=await fetch("".concat(l,"/league/").concat(e,"/matchups/").concat(t));if(!s.ok)return[];return await s.json()}catch(e){return console.error("Error fetching matchups:",e),[]}}static async getNFLState(){try{let e=await fetch("".concat(l,"/state/nfl"));if(!e.ok)return null;return await e.json()}catch(e){return console.error("Error fetching NFL state:",e),null}}}function i(e){let{onUserLoaded:t}=e,[s,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(!1),[d,o]=(0,r.useState)(""),[m,u]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("sleeper_username");e&&(u(e),x(null,e))},[]);let x=async(e,a)=>{e&&e.preventDefault();let r=a||s.trim();if(!r)return void o("Please enter a username");c(!0),o("");try{let e=await n.getUser(r);if(!e)return void o("User not found. Please check the username.");let s=await n.getUserLeagues(e.user_id);localStorage.setItem("sleeper_username",r),u(r),t(e,s)}catch(e){o("Failed to load user data. Please try again.")}finally{c(!1)}};return m&&!d?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 mb-2",children:"Logged in as:"}),(0,a.jsx)("p",{className:"text-xl font-semibold mb-4",children:m}),(0,a.jsx)("button",{onClick:()=>{u(""),localStorage.removeItem("sleeper_username"),l(""),o("")},className:"text-blue-400 hover:text-blue-300 underline",children:"Change username"})]}):(0,a.jsx)("div",{className:"max-w-md mx-auto",children:(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter your Sleeper username"}),(0,a.jsx)("input",{type:"text",id:"username",value:s,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white",placeholder:"sleeper_username",disabled:i})]}),d&&(0,a.jsx)("div",{className:"text-red-400 text-sm",children:d}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 disabled:cursor-not-allowed text-white font-medium py-2 px-4 rounded-lg transition-colors",children:i?"Loading...":"Load My Leagues"})]})})}function c(e){let{leagues:t,selectedLeague:s,onLeagueSelect:r}=e;return 0===t.length?(0,a.jsx)("div",{className:"text-center text-gray-400",children:"No leagues found for this user."}):1!==t.length||s?(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Select a League"}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>r(e),className:"p-4 rounded-lg border transition-colors text-left ".concat((null==s?void 0:s.league_id)===e.league_id?"bg-blue-600 border-blue-500":"bg-gray-800 border-gray-600 hover:bg-gray-700"),children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-400 space-y-1",children:[(0,a.jsxs)("p",{children:["Season: ",e.season]}),(0,a.jsxs)("p",{children:["Teams: ",e.total_rosters]}),(0,a.jsxs)("p",{children:["Status: ",e.status]})]})]},e.league_id))})]}):(r(t[0]),null)}var d=s(5239);function o(e){let{rosters:t,users:s}=e,r=[...t].sort((e,t)=>{let s=e.settings.wins/(e.settings.wins+e.settings.losses+e.settings.ties),a=t.settings.wins/(t.settings.wins+t.settings.losses+t.settings.ties);return s!==a?a-s:t.settings.fpts+t.settings.fpts_decimal/100-(e.settings.fpts+e.settings.fpts_decimal/100)});return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Standings"}),(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-700",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"#"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300",children:"Team"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-300",children:"W"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-300",children:"L"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-300",children:"T"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-300",children:"PCT"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-300",children:"PF"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-300",children:"PA"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:r.map((e,t)=>{let r,l=(r=e.owner_id,s.find(e=>e.user_id===r)),n=e.settings.wins+e.settings.losses+e.settings.ties,i=n>0?(e.settings.wins/n*100).toFixed(1):"0.0",c=(e.settings.fpts+e.settings.fpts_decimal/100).toFixed(2),o=(e.settings.fpts_against+e.settings.fpts_against_decimal/100).toFixed(2);return(0,a.jsxs)("tr",{className:"hover:bg-gray-750",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium",children:t+1}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(null==l?void 0:l.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(l.avatar),alt:l.display_name||l.username||"User",width:32,height:32,className:"w-8 h-8 rounded-full mr-3"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(null==l?void 0:l.display_name)||(null==l?void 0:l.username)||"Unknown"})]})}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm",children:e.settings.wins}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm",children:e.settings.losses}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm",children:e.settings.ties}),(0,a.jsxs)("td",{className:"px-4 py-3 text-center text-sm",children:[i,"%"]}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm",children:c}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm",children:o})]},e.roster_id)})})]})})})]})}function m(e){let{matchups:t,rosters:s,users:r,week:l,onMatchupClick:n}=e,i=e=>{let t=s.find(t=>t.roster_id===e);return t?r.find(e=>e.user_id===t.owner_id):null},c=Object.values(t.reduce((e,t)=>(e[t.matchup_id]||(e[t.matchup_id]=[]),e[t.matchup_id].push(t),e),{})).map(e=>e.sort((e,t)=>t.points-e.points));return 0===t.length?(0,a.jsxs)("div",{className:"text-center text-gray-400",children:["No matchups found for week ",l,"."]}):(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:["Week ",l," Matchups"]}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:c.map((e,t)=>{if(0===e.length)return null;let s=e[0].matchup_id,r=e[0],l=e[1];if(!l){let e=i(r.roster_id);return(0,a.jsx)("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(null==e?void 0:e.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(e.avatar),alt:e.display_name||e.username||"User",width:32,height:32,className:"w-8 h-8 rounded-full mr-3"}),(0,a.jsx)("span",{className:"font-medium",children:(null==e?void 0:e.display_name)||(null==e?void 0:e.username)||"Unknown"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:r.points.toFixed(2)}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"BYE WEEK"})]})},t)}let c=i(r.roster_id),o=i(l.roster_id),m=r.points>l.points?r:l.points>r.points?l:null;return(0,a.jsxs)("button",{onClick:()=>n(s),className:"bg-gray-800 hover:bg-gray-700 rounded-lg p-4 transition-colors text-left w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2 ".concat((null==m?void 0:m.roster_id)===r.roster_id?"text-green-400":""),children:[(null==c?void 0:c.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(c.avatar),alt:c.display_name||c.username||"User",width:32,height:32,className:"w-8 h-8 rounded-full mr-3"}),(0,a.jsx)("span",{className:"font-medium",children:(null==c?void 0:c.display_name)||(null==c?void 0:c.username)||"Unknown"})]}),(0,a.jsxs)("div",{className:"flex items-center ".concat((null==m?void 0:m.roster_id)===l.roster_id?"text-green-400":""),children:[(null==o?void 0:o.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(o.avatar),alt:o.display_name||o.username||"User",width:32,height:32,className:"w-8 h-8 rounded-full mr-3"}),(0,a.jsx)("span",{className:"font-medium",children:(null==o?void 0:o.display_name)||(null==o?void 0:o.username)||"Unknown"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold mb-1 ".concat((null==m?void 0:m.roster_id)===r.roster_id?"text-green-400":""),children:r.points.toFixed(2)}),(0,a.jsx)("div",{className:"text-lg font-bold ".concat((null==m?void 0:m.roster_id)===l.roster_id?"text-green-400":""),children:l.points.toFixed(2)})]})]}),(0,a.jsx)("div",{className:"mt-2 text-sm text-gray-400 text-center",children:"Click to view details"})]},t)})})]})}function u(e){let{matchups:t,rosters:s,users:r,matchupId:l,week:n,onBack:i}=e,c=t.filter(e=>e.matchup_id===l),o=e=>{let t=s.find(t=>t.roster_id===e);return t?r.find(e=>e.user_id===t.owner_id):null};if(0===c.length)return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Matchup not found"}),(0,a.jsx)("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded-lg",children:"Back to Matchups"})]});let m=c[0],u=c[1],x=o(m.roster_id),h=u?o(u.roster_id):null,g=e=>{let t=new Set(e.starters);return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-300 mb-2",children:"Starters"}),e.starters.map((t,s)=>{var r;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,a.jsx)("span",{className:"text-sm",children:t||"Empty Slot"}),(0,a.jsx)("span",{className:"font-medium",children:(null==(r=e.starters_points[s])?void 0:r.toFixed(2))||"0.00"})]},"starter-".concat(t,"-").concat(s))}),(0,a.jsx)("h4",{className:"font-semibold text-sm text-gray-300 mb-2 pt-2",children:"Bench"}),e.players.filter(e=>!t.has(e)).map(t=>{var s;return(0,a.jsxs)("div",{className:"flex justify-between items-center py-1 text-gray-400",children:[(0,a.jsx)("span",{className:"text-sm",children:t}),(0,a.jsx)("span",{className:"font-medium",children:(null==(s=e.players_points[t])?void 0:s.toFixed(2))||"0.00"})]},"bench-".concat(t))})]})};if(!u)return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:i,className:"mb-6 text-blue-400 hover:text-blue-300 underline",children:"← Back to Matchups"}),(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Week ",n," - BYE WEEK"]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(null==x?void 0:x.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(x.avatar),alt:x.display_name||x.username||"User",width:48,height:48,className:"w-12 h-12 rounded-full mr-3"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:(null==x?void 0:x.display_name)||(null==x?void 0:x.username)||"Unknown"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold text-green-400",children:m.points.toFixed(2)}),(0,a.jsx)("p",{className:"text-gray-400",children:"BYE WEEK"})]}),g(m)]})]});let p=m.points>u.points?m:u.points>m.points?u:null;return(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:i,className:"mb-6 text-blue-400 hover:text-blue-300 underline",children:"← Back to Matchups"}),(0,a.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["Week ",n," Matchup"]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 ".concat((null==p?void 0:p.roster_id)===m.roster_id?"ring-2 ring-green-400":""),children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(null==x?void 0:x.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(x.avatar),alt:x.display_name||x.username||"User",width:48,height:48,className:"w-12 h-12 rounded-full mr-3"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:(null==x?void 0:x.display_name)||(null==x?void 0:x.username)||"Unknown"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold ".concat((null==p?void 0:p.roster_id)===m.roster_id?"text-green-400":""),children:m.points.toFixed(2)}),(null==p?void 0:p.roster_id)===m.roster_id&&(0,a.jsx)("p",{className:"text-green-400 font-medium",children:"WINNER"})]}),g(m)]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 ".concat((null==p?void 0:p.roster_id)===u.roster_id?"ring-2 ring-green-400":""),children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-2",children:[(null==h?void 0:h.avatar)&&(0,a.jsx)(d.default,{src:"https://sleepercdn.com/avatars/".concat(h.avatar),alt:h.display_name||h.username||"User",width:48,height:48,className:"w-12 h-12 rounded-full mr-3"}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:(null==h?void 0:h.display_name)||(null==h?void 0:h.username)||"Unknown"})]}),(0,a.jsx)("p",{className:"text-3xl font-bold ".concat((null==p?void 0:p.roster_id)===u.roster_id?"text-green-400":""),children:u.points.toFixed(2)}),(null==p?void 0:p.roster_id)===u.roster_id&&(0,a.jsx)("p",{className:"text-green-400 font-medium",children:"WINNER"})]}),g(u)]})]})]})}function x(e){let{activeTab:t,onTabChange:s,week:r,onWeekChange:l}=e,n=Array.from({length:18},(e,t)=>t+1);return(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>s("standings"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("standings"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:"Standings"}),(0,a.jsx)("button",{onClick:()=>s("matchups"),className:"px-4 py-2 rounded-lg font-medium transition-colors ".concat("matchups"===t?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:"Matchups"})]}),"matchups"===t&&r&&l&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Week:"}),(0,a.jsx)("select",{value:r,onChange:e=>l(Number(e.target.value)),className:"bg-gray-700 border border-gray-600 rounded px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:n.map(e=>(0,a.jsxs)("option",{value:e,children:["Week ",e]},e))})]})]})})}function h(){let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)([]),[d,h]=(0,r.useState)(null),[g,p]=(0,r.useState)([]),[f,j]=(0,r.useState)([]),[v,N]=(0,r.useState)([]),[b,y]=(0,r.useState)("standings"),[_,w]=(0,r.useState)(null),[k,S]=(0,r.useState)(1),[E,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{let e=await n.getNFLState();e&&S(e.week)})()},[]);let L=(e,s)=>{t(e),l(s),1===s.length&&h(s[0])},C=async e=>{h(e),U(!0);try{let[t,s,a]=await Promise.all([n.getLeagueRosters(e.league_id),n.getLeagueUsers(e.league_id),n.getMatchups(e.league_id,k)]);p(t),j(s),N(a)}catch(e){console.error("Error loading league data:",e)}finally{U(!1)}},F=async e=>{if(d){S(e),U(!0);try{let t=await n.getMatchups(d.league_id,e);N(t)}catch(e){console.error("Error loading matchups:",e)}finally{U(!1)}}};return e?d?(0,a.jsx)("main",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:d.name}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Season ",d.season]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,a.jsx)("button",{onClick:()=>h(null),className:"text-blue-400 hover:text-blue-300 underline",children:"Change League"})," • ",(0,a.jsx)(i,{onUserLoaded:L})]})]}),E&&(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("div",{className:"text-gray-400",children:"Loading..."})}),!E&&"matchup-detail"!==b&&(0,a.jsx)(x,{activeTab:"standings"===b?"standings":"matchups",onTabChange:e=>{y(e),w(null)},week:k,onWeekChange:F}),!E&&"standings"===b&&(0,a.jsx)(o,{rosters:g,users:f}),!E&&"matchups"===b&&(0,a.jsx)(m,{matchups:v,rosters:g,users:f,week:k,onMatchupClick:e=>{w(e),y("matchup-detail")}}),!E&&"matchup-detail"===b&&null!==_&&(0,a.jsx)(u,{matchups:v,rosters:g,users:f,matchupId:_,week:k,onBack:()=>{w(null),y("matchups")}})]})}):(0,a.jsx)("main",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold mb-4",children:["Welcome, ",e.display_name||e.username,"!"]}),(0,a.jsx)(i,{onUserLoaded:L})]}),(0,a.jsx)(c,{leagues:s,selectedLeague:d,onLeagueSelect:C})]})}):(0,a.jsx)("main",{className:"min-h-screen p-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Sleeper Agent"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg",children:"Your fantasy football command center"})]}),(0,a.jsx)(i,{onUserLoaded:L})]})})}},9341:(e,t,s)=>{Promise.resolve().then(s.bind(s,522))}},e=>{e.O(0,[239,441,255,358],()=>e(e.s=9341)),_N_E=e.O()}]);